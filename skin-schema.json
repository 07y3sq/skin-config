{
  "type" : "object",
  "additionalProperties" : false,
  "required": ["localizableStrings"], // TODO: everything!
  "properties" : {
    "startScreen" : {
      "type" : "object",
      "properties" : {
        "playIconStyle" : {
          "description" : "Default color is white with an opacity of 1",
          "$ref" : "#/definitions/iconStyle"
        },
        "showPromo": { "type" : "boolean" },
        "promoImageSize" : {
          "description" : "Configure how large the promo image should be when displayed. The 'small' setting will use styling out of the style sheets.",
          "enum" : ["fullscreen", "small"]
        },
        "playButtonPosition" : {
          "enum" : [ "center", "topLeft", "topRight", "bottomLeft", "bottomRight", "hidden" ] // TODO: find any nones that should be hidden.
        },
        "showTitle" : { "type" : "boolean" },
        "showDescription" : { "type" : "boolean" },
        "titleFont" : {
          "description" : "The font of the title",
          "$ref" : "#/definitions/fontStyle"
        },
        "descriptionFont" : {
          "description" : "The font of the description",
          "$ref" : "#/definitions/fontStyle"
        },
        "infoPanelPosition" : {
          "enum" : [ "topLeft", "topRight", "bottomLeft", "bottomRight", "hidden" ]
        }
      }
    },
    "screenToShowOnPauseClicked" : { // TODO: support this in mobile.
      "enum" : ["pauseScreen", "discoveryScreen"]
    },
    "pauseScreen" : { // TODO: support this in mobile.
      "description" : "The screen displayed when playback is paused.",
      "type" : "object",
      "properties" : {
        "pauseIconStyle" : {
          "description" : "Default color is white with an opacity of 1",
          "$ref" : "#/definitions/iconStyle"
        },
        "showPauseIcon" : { "type" : "boolean" },
        "showTitle" : {
          "description" : "If showTitle and showDescription are false, the infoPanel will not appear.",
          "type" : "boolean"
        },
        "showDescription" : {
          "description" : "If showTitle and showDescription are false, the infoPanel will not appear.",
          "type" : "boolean"
        },
        "infoPanelPosition" : {
          "description" : "If showTitle and showDescription are false, the infoPanel will not appear.",
          "enum" : [ "topLeft", "topRight", "bottomLeft", "bottomRight" ]
        }
      }
    },
    "screenToShowOnEnd" : {
      "enum" : ["endScreen", "discoveryScreen"]
    },
    "endScreen" : {
      "type" : "object",
      "properties" : {
        "replayIconStyle" : {
          "description" : "Default color is white with an opacity of 1",
          "$ref" : "#/definitions/iconStyle"
        },
        "showReplayButton" : { "type" : "boolean" },
        "showTitle" : { "type" : "boolean" },
        "showDescription" : { "type" : "boolean" }
      }
    },
    "buttons" : {
      "description" : "Defines the buttons that can appear on the controlBar and/or the moreOptions panel.",
      "type" : "object",
      "additionalProperties" : false,
      "required" : ["desktop", "mobile"],
      "properties" : {
        "desktop" : { "$ref" : "#/definitions/buttonArray" },
        "mobile" : { "$ref" : "#/definitions/buttonArray" }
      }
    },
    "controlBar" : {
      "description" : "The playback control bar. Generally contains a play-pause button, scrubber control, etc. The set of items to show comes from the 'buttons' part of the schema.",
      "type" : "object",
      "additionalProperties" : false,
      "required" : [ "height", "autoHide", "brandingLogo" ],
      "properties" : {
        "iconStyle" : {
          "description" : "Default color is #8E8E8E with an opacity of 1",
          "$ref" : "#/definitions/iconStyle"
        },
        "height" : { "type" : "number" },
        "autoHide" : { "type" : "boolean" },
        "brandingLogo": {
          "type": "object",
          "additionalProperties" : false,
          "properties": {
            "imageResource" : { "$ref" : "#/definitions/image" },
            "width": {"type" : "number"},
            "height": {"type" : "number"}
          }
        }
      }
    },
    "sharing": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties" : false,
        "properties": {
          "buttonName": { "type": "string" },
          "imageResource" : { "$ref" : "#/definitions/image" }
        }
      }
    },
    "general": { // TODO: move screen to show on end type stuff into here?
      "description" : "Configuration of things that do not appear in only one part of the UI.",
      "type": "object",
      "properties": {
        "watermark": {
          "type": "object",
          "additionalProperties" : false,
          "properties" : {
            "imageResource" : { "$ref" : "#/definitions/image" }
          }
        }
      }
    },
    "upNextScreen" : {
      "type" : "object",
      "properties" : {
        "showUpNext" : { "type" : "boolean" },
        "timeToShow": {
          "type" : "string",
          "pattern": "^[0-9]+$|^[0-9]{1,2}%$"
        }
      }
    },
    "moreOptions": {
      "description" : "The more options / overflow panel. The set of items to show comes from the 'buttons' part of the schema.",
      "type": "object",
      "required" : ["iconSize", "color"], // TODO: anything else? Are there defaults in code for the opacities?
      "additionalProperties" : false,
      "patternProperties" : {
        "brightOpacity": {"type": "number"},
        "darkOpacity": {"type": "number"}
      },
      "properties": {
        "iconStyle" : {
          "description" : "Default color is white with an opacity of 1",
          "$ref" : "#/definitions/iconStyle"
        },
        "iconSize": {"type": "number"},
        "color": {"type": "string"}
      }
    },
    "discoveryScreen" : {
      "type" : "object",
      "properties" : {
        "panelTitle" : { 
          "type" : "object",
          "additionalProperties" : false,
          "required" : [ "text", "imageResource", "showImage" ],
          "properties" : {
            "text" : { "type": "string" },
            "imageResource" : { "$ref" : "#/definitions/image" },
            "showImage" : { "type" : "boolean" }
          }
        },
        "titleFont" : {
          "description" : "The font of the title",
          "$ref" : "#/definitions/fontStyle"
        },
        "showContentTitle" : {"type" : "boolean"},
        "showContentDuration": {"type" : "boolean"}
      }
    },
    "ccOptions" : {
      "type" : "object",
      "properties" : {
        "defaultEnabled" : { "type" : "boolean" },
        "defaultLanguage" : { "type" : "string" }
      }
    },
    "icons" : {
      "description" : "The set of all required icons, for redering all the various buttons' states. Note that this is the superset of all icons needed by versions of the player (i.e. web vs. apps)",
      "type" : "object",
      "patternProperties" : { "" : { "$ref" : "#/definitions/icon" } },
      "required" : ["play", "pause", "volumeDown", "volumeUp", "volumeOff", "expand", "compress", "ellipsis", "replay", "share", "cc", "discovery", "quality", "setting", "dismiss", "toggleOff", "toggleOn" ]
    },
    "localizableStrings" : {
      "description": "all the languages listed in the array should have a separate json file included in the bundle to make localization work",
      "type" : "object",
      "properties": {
        "default" : {"type" : "string", "pattern" : "^[a-z]{2}$"},
        "languages" : {
          "type": "array",
          "items": {"type": "string", "pattern": "^[a-z]{2}$"}
        }
      },
      "required" : ["default"] 
    }
  },
  "definitions": {
    "image" : {
      "description" : "Specify how to obtain an image's data. Desktop will use the url. Mobile will first lookup the native resource, with fall back to the url.",
      "type" : "object",
      "additionalProperties" : false,
      "minProperties" : 1,
      "properties" : {
        "url" : { "type" : "string" },
        "ios-resource" : { "type" : "string" },
        "android-resource" : { "type" : "string" }
      }
    },
    "button" : {
      "description" : "Specify a button that appears in the user interface. See the buttons, controlBar, and moreOptions part of the schema.",
      "type" : "object",
      "properties" : {
        "name" : {
          "description" : "These are the only buttons currently supported by the UI SDK.",
          "enum" : ["playPause", "volume", "timeDuration", "flexibleSpace", "discovery", "fullscreen", "moreOptions", "watermark", "share", "closedCaption", "bitrateSelector", "quality"]
        },
        "appearance" : { "$ref" : "#/definitions/buttonAppearance" },
        "minWidth" : { "type" : "number" }
      }
    },
    "buttonAppearance" : {
      "description" : "Specify where a button might appear in the UI. Both means it will collapse from the controlBar to the moreOptions panel. None means it is disabled entirely.",
      "enum" : ["controlBar", "moreOptions", "both", "none"]
    },
    "buttonArray" : {
      "description" : "Used to list the buttons for a single platform (desktop vs. mobile).",
      "type" : "array",
      "items" : { "$ref" : "#/definitions/button" }
    },
    "icon" : {
      "description" : "Icons are renderable from fonts. Bitmaps are not supported.",
      "type" : "object",
      "required" : ["fontFamilyName", "fontString"],
      "additionalProperties" : false,
      "properties" : {
        "fontFamilyName" : {
          "description" : "The name of the font family to use.",
          "type" : "string"
        },
        "fontString" : {
          "description" : "The string used for displaying the icon. (Usually a single Unicode code point.)",
          "type" : "string"
        }
      }
    },
    "iconStyle" : {
      "description" : "A collection of styles that can be used by icon renderings throughout the UI. Any value placed in here gets directly parsed as a react stylesheet. Supported style customizations are color, opacity, shadowColor, shadowOffset, shadowOpacity, shadowRadius, borderColor, borderRadius, and borderStyle. See React stylesheets for more specifics on each field. All values are optional, and have defaults specified in the code depending on the section. See each section for default values.",
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "color" : {
          "type" : "string"
        },
        "opacity" : {
          "type" : "number"
        },
        "shadowColor" : {
          "type" : "string"
        },
        "shadowOffset" : {
          "type" : "object",
          "properties" : {
            "width" : {"type" : "number"},
            "height" : {"type" : "number"}
          }
        },
        "shadowOpacity" : {
          "type" : "number"
        },
        "shadowRadius" : {
          "type" : "number"
        },
        "borderColor" : {
          "type" : "string"
        },
        "borderRadius" : {
          "type" : "number"
        },
        "borderWidth" : {
          "type" : "number"
        },
        "borderStyle" : {
          "type" : "string",
          "enum" : ["solid", "dotted", "dashed"]
        }
      }
    },
    "fontStyle" : {
      "description" : "A collection of styles that can be used by font renderings throughout the UI. Any value placed in here gets directly parsed as a react stylesheet. Supported style customizations are color, fontFamily, weight, fontSize. See React stylesheets for more specifics on each field. All values are optional, and have defaults specified in the code depending on the section. See each section for default values.",
      "type": "object",
      "additionalProperties" : false,
      "properties" : {
        "fontFamily": {"type" : "string"},
        "color": {"type" : "string"},
        "weight": {"type" : "string"},
        "fontSize": {"type" : "number"}
      }
    }
  }
}
