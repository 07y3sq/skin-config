{
  "type" : "object",
  "additionalProperties" : false,
  "required": ["localizableStrings"],
  "properties" : {
    "accentColor" : { "type" : "string" },
    "startScreen" : {
      "type" : "object",
      "properties" : {
        "promoImageSize" : { "enum" : ["default", "small"] },
        "showPlayButton" : { "type" : "boolean" },
        "playButtonPosition" : {
          "enum" : [ "center", "topLeft", "topRight", "bottomLeft", "bottomRight" ]
        },
        "showTitle" : { "type" : "boolean" },
        "showDescription" : { "type" : "boolean" },
        "infoPanelPosition" : {
          "enum" : [ "topLeft", "topRight", "bottomLeft", "bottomRight" ]
        },
        "showPromo": { "type" : "boolean" }
      }
    },
    "pauseScreen" : {
      "type" : "object",
      "properties" : {
        "screenToShowOnPause" : { "enum" : ["default", "discovery"] },
        "showPauseIcon" : { "type" : "boolean" },
        "pauseIconPosition" : {
          "enum" : [ "center", "topLeft", "topRight", "bottomLeft", "bottomRight" ]
        },
        "showTitle" : { "type" : "boolean" },
        "showDescription" : { "type" : "boolean" },
        "infoPanelPosition" : {
          "enum" : [ "topLeft", "topRight", "bottomLeft", "bottomRight" ]
        }
      }
    },
    "endScreen" : {
      "type" : "object",
      "properties" : {
        "screenToShowOnEnd" : { "enum" : ["default", "discovery"] },
        "showReplayButton" : { "type" : "boolean" },
        "showTitle" : { "type" : "boolean" },
        "showDescription" : { "type" : "boolean" }
      }
    },
    "discoveryScreen" : {
      "type" : "object",
      "properties" : {
        "title" : { "type" : "string" }
      }
    },
    "buttons" : {
      "description" : "Defines the buttons that can appear on the controlBar and/or the moreOptions panel.",
      "type" : "object",
      "additionalProperties" : false,
      "required" : ["desktop", "mobile"],
      "properties" : {
        "desktop" : { "$ref" : "#/definitions/buttonArray" },
        "mobile" : { "$ref" : "#/definitions/buttonArray" }
      }
    },
    "controlBar" : {
      "description" : "The playback control bar. Generally contains a play-pause button, scrubber control, etc. The set of items to show comes from the 'buttons' part of the schema.",
      "type" : "object",
      "additionalProperties" : false,
      "required" : [ "height", "autoHide", "watermark" ],
      "properties" : {
        "height" : { "type" : "number" },
        "autoHide" : { "type" : "boolean" },
        "watermark": {
          "type": "object",
          "additionalProperties" : false,
          "properties": {
            "imageResource" : { "$ref" : "#/definitions/image" },
            "width": {"type" : "number"},
            "height": {"type" : "number"}
          }
        }
      }
    },
    "sharing": {
      "type": "array",
      "items": {
        "type": "object",
        "additionalProperties" : false,
        "properties": {
          "buttonName": { "type": "string" },
          "imageResource" : { "$ref" : "#/definitions/image" }
        }
      }
    },
    "general": {
      "type": "object",
      "properties": {
        "watermark": {
          "type": "object",
          "additionalProperties" : false,
          "properties" : {
            "imageResource" : { "$ref" : "#/definitions/image" }
          }
        }
      }
    },
    "upNextScreen" : {
      "type" : "object",
      "properties" : {
        "showUpNext" : { "type" : "boolean" },
        "timeToShow": {
          "type" : "string",
          "pattern": "^[0-9]+$|^[0-9]{1,2}%$"
        }
      }
    },
    "moreOptions": {
      "description" : "The more options / overflow panel. The set of items to show comes from the 'buttons' part of the schema.",
      "type": "object",
      "required" : ["iconSize", "color"], // TODO: anything else? Are there defaults in code for the opacities?
      "additionalProperties" : false,
      "patternProperties" : {
        "brightOpacity": {"type": "number"},
        "darkOpacity": {"type": "number"}
      },
      "properties": {
        "iconSize": {"type": "number"},
        "color": {"type": "string"}
      }
    },
    "discoveryScreen" : {
      "type" : "object",
      "properties" : {
        "panelTitle" : { 
          "type" : "object",
          "additionalProperties" : false,
          "required" : [ "text", "imageResource", "showImage" ],
          "properties" : {
            "text" : { "type": "string" },
            "imageResource" : { "$ref" : "#/definitions/image" },
            "showImage" : { "type" : "boolean" }
          }
        },
        "showContentTitle" : {"type" : "boolean"},
        "showContentDuration": {"type" : "boolean"}
      }
    },
    "ccOptions" : {
      "type" : "object",
      "properties" : {
        "defaultEnabled" : { "type" : "boolean" },
        "defaultLanguage" : { "type" : "string" }
      }
    },
    "icons" : {
      "description" : "The set of all required icons, for redering all the various buttons' states. Note that this is the superset of all icons needed by versions of the player (i.e. web vs. apps)",
      "type" : "object",
      "patternProperties" : { "" : { "$ref" : "#/definitions/icon" } },
      "required" : ["play", "pause", "volumeDown", "volumeUp", "volumeOff", "expand", "compress", "ellipsis", "replay", "share", "cc", "discovery", "quality", "setting", "dismiss", "toggleOff", "toggleOn" ]
    },
    "localizableStrings" : {
      "description": "all the languages listed in the array should have a separate json file included in the bundle to make localization work",
      "type" : "object",
      "properties": {
        "default" : {"type" : "string", "pattern" : "^[a-z]{2}$"},
        "languages" : {
          "type": "array",
          "items": {"type": "string", "pattern": "^[a-z]{2}$"}
        }
      },
      "required" : ["default"] 
    }
  },
  "definitions": {
    "image" : {
      "description" : "Specify how to obtain an image's data. Desktop will use the url. Mobile will first lookup the native resource, with fall back to the url.",
      "type" : "object",
      "additionalProperties" : false,
      "minProperties" : 1,
      "properties" : {
        "url" : { "type" : "string" },
        "ios-resource" : { "type" : "string" },
        "android-resource" : { "type" : "string" }
      }
    },
    "button" : {
      "description" : "Specify a button that appears in the user interface. See the buttons, controlBar, and moreOptions part of the schema.",
      "type" : "object",
      "properties" : {
        "name" : {
          "description" : "These are the only buttons currently supported by the UI SDK.",
          "enum" : ["playPause", "volume", "timeDuration", "flexibleSpace", "discovery", "fullscreen", "moreOptions", "watermark", "share", "closedCaption", "bitrateSelector", "quality"]
        },
        "appearance" : { "$ref" : "#/definitions/buttonAppearance" },
        "minWidth" : { "type" : "number" }
      }
    },
    "buttonAppearance" : {
      "description" : "Specify where a button might appear in the UI. Both means it will collapse from the controlBar to the moreOptions panel. None means it is disabled entirely.",
      "enum" : ["controlBar", "moreOptions", "both", "none"]
    },
    "buttonArray" : {
      "description" : "Used to list the buttons for a single platform (desktop vs. mobile).",
      "type" : "array",
      "items" : { "$ref" : "#/definitions/button" }
    },
    "icon" : {
      "description" : "Icons are renderable from fonts. Bitmaps are not supported.",
      "type" : "object",
      "required" : ["fontFamilyName", "fontString"],
      "additionalProperties" : false,
      "properties" : {
        "fontFamilyName" : {
          "description" : "The name of the font family to use.",
          "type" : "string"
        },
        "fontString" : {
          "description" : "The string used for displaying the icon. (Usually a single Unicode code point.)",
          "type" : "string"
        }
      }
    }
  }
}
